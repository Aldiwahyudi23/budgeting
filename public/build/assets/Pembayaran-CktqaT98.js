import{A as j}from"./AppLayout-DlFxLZi-.js";import{d as h,c as C,o as l,w as D,a as t,b as B,g as R,t as a,e as i,f as v,F as I,h as M}from"./app-BAijexpd.js";import{_ as T}from"./DetailModal-DqhcT6NQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"p-4"},V={class:"container mx-auto p-2"},F={class:"bg-white p-4 rounded-lg shadow-md mb-6"},H={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},L={class:"text-sm font-medium text-gray-800"},O={class:"text-sm font-medium text-gray-800"},S={class:"text-sm font-medium text-gray-800"},$={class:"text-sm font-medium text-gray-800"},E={class:"text-sm font-medium text-gray-800"},K={class:"text-sm font-medium text-gray-800"},q={key:0,class:"text-sm text-gray-600"},z={class:"text-sm font-medium text-gray-800"},G={class:"bg-white rounded-lg shadow-md overflow-hidden"},J={class:"min-w-full"},Q={class:"divide-y divide-gray-200"},U=["onClick"],W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={key:0},ot={__name:"Pembayaran",props:{loan:Object,expenses:Object,incomes:{type:Array,default:()=>[]}},setup(s){const m=h(!1),d=h({}),k=n=>{d.value=n,m.value=!0},N=()=>{m.value=!1},r=n=>n?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n).replace("Rp","").trim():"0",x=n=>n?new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-",P=()=>{window.history.back()};return(n,e)=>(l(),C(j,{title:"History Pembayaran"},{default:D(()=>{var p,u,y,c,g,f,b,w;return[t("div",A,[t("div",V,[t("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white p-4 rounded-lg shadow-md mb-2"},[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-xl font-semibold text-gray-800"},"History Pembayaran"),t("p",{class:"text-sm text-gray-600 mt-1"}," Halaman ini menampilkan history pembayaran untuk transaksi yang terkait dengan pinjaman ini. ")],-1)),t("button",{onClick:P,class:"flex items-center text-gray-600 hover:text-gray-800 mt-4 sm:mt-0"},e[0]||(e[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),R(" Kembali ")]))]),t("div",F,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Detail Pinjaman",-1)),t("div",H,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-600"},"Nama Pinjaman",-1)),t("p",L,a(x((p=s.expenses)==null?void 0:p.date)||"-"),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-gray-600"},"Nama Pinjaman",-1)),t("p",O,a(((u=s.loan)==null?void 0:u.name)||"-"),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-600"},"Nominal",-1)),t("p",S,"Rp "+a(r((y=s.expenses)==null?void 0:y.amount)),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-600"},"Total Pembayaran",-1)),t("p",$,"Rp "+a(r((c=s.loan)==null?void 0:c.paid_amount)),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600"},"Sisa Pinjaman",-1)),t("p",E,"Rp "+a(r((g=s.loan)==null?void 0:g.amount)),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600"},"Metode Pembayaran",-1)),t("p",K,a(((f=s.expenses)==null?void 0:f.payment)||"-"),1)]),t("div",null,[((b=s.expenses)==null?void 0:b.payment)==="Transfer"?(l(),i("p",q,"Account Bank")):v("",!0),t("p",z,a(((w=s.expenses.account_bank)==null?void 0:w.name)||"-"),1)])])]),t("div",G,[e[11]||(e[11]=t("div",{class:"px-6 py-4 border-b"},[t("h4",{class:"text-lg font-semibold"},"Pembayaran")],-1)),t("table",J,[e[10]||(e[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nominal")])],-1)),t("tbody",Q,[(l(!0),i(I,null,M(s.incomes,(o,_)=>(l(),i("tr",{key:o.id,onClick:tt=>k(o),class:"cursor-pointer hover:bg-gray-50"},[t("td",W,a(_+1),1),t("td",X,a(x(o==null?void 0:o.date)),1),t("td",Y,"Rp "+a(r(o==null?void 0:o.amount)),1)],8,U))),128)),s.incomes.length===0?(l(),i("tr",Z,e[9]||(e[9]=[t("td",{colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},"Tidak ada data pembayaran.",-1)]))):v("",!0)])])]),B(T,{show:m.value,detail:d.value,onClose:N},null,8,["show","detail"])])])]}),_:1}))}};export{ot as default};

import{d as c,i as D,C as X,k as V,c as Y,o as d,w as p,a as t,e as u,f as b,t as i,p as S,F as Z,h as ee,g,v as te,q as se,b as l,u as n,A as G,y as ae,n as oe,W as H,S as K}from"./app-9QPMRC04.js";import{A as ne}from"./AppLayout-BXtqR8wP.js";import{_ as f}from"./InputLabel-BB1nO45r.js";import{_}from"./TextInput-DHSiMCnf.js";import{_ as x}from"./InputError-Wk88TV3H.js";import{_ as le}from"./PrimaryButton-aP2qe7s9.js";import{_ as re}from"./ActionMessage-CnSbSr5Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"p-4"},de={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-2"},ue={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-2"},me={key:2,class:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-2"},be={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},pe={class:"text-gray-500"},ge={key:0},ce={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},fe={class:"flex items-center"},xe=["checked"],ke={class:"ml-2 text-gray-700 text-sm"},ve={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},ye={class:"flex items-center"},_e=["checked"],he={class:"ml-2 text-gray-700 text-sm"},je={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},we={class:"text-gray-500"},Se={key:0},Ae={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Te={class:"flex items-center"},Ve=["checked"],Ce={class:"ml-2 text-gray-700 text-sm"},Be={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ue={class:"flex items-center"},Pe=["value","disabled"],$e={key:0},Je={key:0,class:"text-red-500 text-sm mt-2"},Ne={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ee={class:"flex items-center"},Ie=["checked"],Me={class:"ml-2 text-gray-700 text-sm"},De={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ge={class:"flex items-center"},He=["checked"],Ke={class:"ml-2 text-gray-700 text-sm"},Oe={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},Fe={class:"text-gray-500"},Le={key:0},We={class:"flex items-center"},qe={key:0,class:"space-y-4"},ze={class:"flex justify-end"},at={__name:"Settings",props:{job:Object,userId:Number},setup(O){var U,P,$,J,N,E,I,M;const r=c(D().props.settings),A=c(D().props.accounts),k=c(r.value.account_id),h=c(!1),j=c(!1),w=c(!1),T=o=>{o==="table"&&(h.value=!h.value),o==="job"?w.value=!w.value:o==="savings"&&(j.value=!j.value)},v=(o,e)=>{H.post(route("settings.update",{key:o}),{value:e},{preserveScroll:!0,onSuccess:()=>{r.value[o]=e}})},F=()=>{if(!k.value){y.value="Pilih bank harus diisi";return}const o=A.value.find(s=>s.id===r.value.account_id),e=A.value.find(s=>s.id===k.value);K.fire({title:"Konfirmasi Perubahan",html:`Jika Account Bank Saving diubah, saldo di bank <b>${(o==null?void 0:o.name)||"sebelumnya"}</b> akan dipindahkan ke akun bank <b>${e==null?void 0:e.name}</b>. Apakah Anda yakin?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Setuju",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&L()})},L=()=>{H.post(route("setting_Account.update",{key:r.value.id}),{account_id:k.value},{preserveScroll:!0,onSuccess:()=>{y.value=""},onError:o=>{console.error("Error:",o),K.fire("Gagal!","Gagal memperbarui bank. Silakan coba lagi.","error"),y.value="Gagal memperbarui bank. Silakan coba lagi."}})},y=c(""),m=O,a=X({company_name:((U=m.job)==null?void 0:U.company_name)||"",job_title:((P=m.job)==null?void 0:P.job_title)||"",job_description:(($=m.job)==null?void 0:$.job_description)||"",salary:((J=m.job)==null?void 0:J.salary)||"",bpjs:!!((N=m.job)!=null&&N.bpjs)||!1,bpjs_company_percentage:((E=m.job)==null?void 0:E.bpjs_company_percentage)||"",bpjs_employee_percentage:((I=m.job)==null?void 0:I.bpjs_employee_percentage)||"",benefits:((M=m.job)==null?void 0:M.benefits)||""}),C=V(()=>!!m.job),W=o=>!o&&o!==0?"":new Intl.NumberFormat("id-ID").format(o),q=o=>o?String(o).replace(/\./g,""):"",B=V({get:()=>W(a.salary),set:o=>a.salary=q(o)}),z=o=>{const e=String(o.target.value).replace(/\./g,"");a.salary=e},Q=V(()=>C.value?"Update":"Save"),R=()=>{C.value?a.put(route("job.update",m.job.id),{preserveScroll:!0}):a.post(route("job.store"),{preserveScroll:!0})};return(o,e)=>(d(),Y(ne,{title:"Settings"},{default:p(()=>[t("div",ie,[o.$page.props.flash.success?(d(),u("div",de,i(o.$page.props.flash.success),1)):b("",!0),o.$page.props.flash.error?(d(),u("div",ue,i(o.$page.props.flash.error),1)):b("",!0),o.$page.props.flash.info?(d(),u("div",me,i(o.$page.props.flash.info),1)):b("",!0),e[43]||(e[43]=t("h4",{class:"text-2xl font-bold mb-4"},"Pengaturan",-1)),t("div",be,[t("div",{onClick:e[0]||(e[0]=s=>T("table")),class:"flex justify-between items-center cursor-pointer"},[e[17]||(e[17]=t("h2",{class:"text-lg font-bold"},"Tabel",-1)),t("span",pe,i(h.value?"▲":"▼"),1)]),e[20]||(e[20]=t("span",{class:"text-gray-500"},"Edit dan Hapus hanya jika perlu saja ",-1)),h.value?(d(),u("div",ge,[t("div",ce,[e[18]||(e[18]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Edit disemua Tabel",-1)),t("div",fe,[t("input",{type:"checkbox",checked:r.value.btn_edit,onChange:e[1]||(e[1]=s=>v("btn_edit",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,xe),t("span",ke,i(r.value.btn_edit?"Aktif":"Tidak Aktif"),1)])]),t("div",ve,[e[19]||(e[19]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Hapus disemua Tabel",-1)),t("div",ye,[t("input",{type:"checkbox",checked:r.value.btn_delete,onChange:e[2]||(e[2]=s=>v("btn_delete",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,_e),t("span",he,i(r.value.btn_delete?"Aktif":"Tidak Aktif"),1)])])])):b("",!0)]),t("div",je,[t("div",{onClick:e[3]||(e[3]=s=>T("savings")),class:"flex justify-between items-center cursor-pointer"},[e[21]||(e[21]=t("h2",{class:"text-lg font-bold"},"Tabungan",-1)),t("span",we,i(j.value?"▲":"▼"),1)]),e[32]||(e[32]=t("span",{class:"text-gray-500"},"Untuk mengaktifkan Tabungan cukup klik Tabungan, lalu buat Kategory tabungannya di setup",-1)),j.value?(d(),u("div",Se,[t("div",Ae,[e[22]||(e[22]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Aktifkan Tabungan",-1)),e[23]||(e[23]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Memindahkan Saldo Utama ke data Tabungan, Kategori tabungan akan muncul ditransaksi pengeluaran",-1)),t("div",Te,[t("input",{type:"checkbox",checked:r.value.expense_saving,onChange:e[4]||(e[4]=s=>v("expense_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Ve),t("span",Ce,i(r.value.expense_saving?"Aktif":"Tidak Aktif"),1)])]),t("div",Be,[e[25]||(e[25]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Pilih Akun Bank",-1)),e[26]||(e[26]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Tentukan BANK untuk Saving (Tabungan) ",-1)),t("div",Ue,[S(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>k.value=s),class:"block w-full border rounded-md p-2"},[e[24]||(e[24]=t("option",{disabled:"",value:""},"--Pilih Bank Saving--",-1)),(d(!0),u(Z,null,ee(A.value,s=>(d(),u("option",{key:s.id,value:s.id,disabled:!s.is_active},[g(i(s.name)+" ",1),s.is_active?b("",!0):(d(),u("span",$e,"(Tidak Aktif)"))],8,Pe))),128))],512),[[te,k.value]]),t("button",{onClick:F,class:"ml-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm"}," Simpan ")]),y.value?(d(),u("p",Je,i(y.value),1)):b("",!0),e[27]||(e[27]=t("p",{class:"text-gray-600 mt-2 text-sm"},"Untuk memilih Akun Bank Harap Aktifkan dulu Tabungan di atas",-1))]),t("div",Ne,[e[28]||(e[28]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Tabungan Sumber Pengeluaran ",-1)),e[29]||(e[29]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Anda dapat mengambil Uang dari Tabungan untuk pengeluaran",-1)),t("div",Ee,[t("input",{type:"checkbox",checked:r.value.saving_expense,onChange:e[6]||(e[6]=s=>v("saving_expense",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Ie),t("span",Me,i(r.value.saving_expense?"Aktif":"Tidak Aktif"),1)])]),t("div",De,[e[30]||(e[30]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Income to Savings",-1)),e[31]||(e[31]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Agar di transaksi Income ada category Saving muncul",-1)),t("div",Ge,[t("input",{type:"checkbox",checked:r.value.income_saving,onChange:e[7]||(e[7]=s=>v("income_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,He),t("span",Ke,i(r.value.income_saving?"Aktif":"Tidak Aktif"),1)])])])):b("",!0)]),t("div",Oe,[t("div",{onClick:e[8]||(e[8]=s=>T("job")),class:"flex justify-between items-center cursor-pointer"},[e[33]||(e[33]=t("h2",{class:"text-lg font-bold"},"Pekerjaan",-1)),t("span",Fe,i(w.value?"▲":"▼"),1)]),e[42]||(e[42]=t("span",{class:"text-gray-500"},"Update Pekerjaan di bawah dengan benar",-1)),w.value?(d(),u("div",Le,[t("form",{onSubmit:se(R,["prevent"]),class:"mt-6 space-y-6"},[e[41]||(e[41]=t("div",{class:"bg-yellow-100 p-4 rounded-lg text-yellow-800 text-sm font-semibold"}," Jika memiliki BPJS harap centang dan isi persenannya sesuai aturan dari pemerintah untuk menghitung BPJS secara otomatis ",-1)),t("div",null,[l(f,{for:"company_name",class:"block text-sm font-medium text-gray-700"},{default:p(()=>e[34]||(e[34]=[g(" Nama Perusahaan "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(_,{id:"company_name",modelValue:n(a).company_name,"onUpdate:modelValue":e[9]||(e[9]=s=>n(a).company_name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(x,{message:n(a).errors.company_name,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(f,{for:"job_title",class:"block text-sm font-medium text-gray-700"},{default:p(()=>e[35]||(e[35]=[g(" Pekerjaan (Jabatan) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(_,{id:"job_title",modelValue:n(a).job_title,"onUpdate:modelValue":e[10]||(e[10]=s=>n(a).job_title=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(x,{message:n(a).errors.job_title,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(f,{for:"job_description",value:"Deskripsi Pekerjaan",class:"block text-sm font-medium text-gray-700"}),S(t("textarea",{id:"job_description","onUpdate:modelValue":e[11]||(e[11]=s=>n(a).job_description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[G,n(a).job_description]]),l(x,{message:n(a).errors.job_description,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(f,{for:"salary",class:"block text-sm font-medium text-gray-700"},{default:p(()=>e[36]||(e[36]=[g(" Salary (Gajih) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(_,{id:"salary",type:"text",modelValue:B.value,"onUpdate:modelValue":e[12]||(e[12]=s=>B.value=s),onInput:z,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(x,{message:n(a).errors.salary,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",We,[S(t("input",{id:"bpjs",type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=s=>n(a).bpjs=s),class:"h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"},null,512),[[ae,n(a).bpjs]]),e[37]||(e[37]=t("label",{for:"bpjs",class:"ml-2 text-sm text-gray-700"},"Has BPJS?",-1))]),n(a).bpjs?(d(),u("div",qe,[t("div",null,[l(f,{for:"bpjs_company_percentage",class:"block text-sm font-medium text-gray-700"},{default:p(()=>e[38]||(e[38]=[g(" BPJS - Company Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(_,{id:"bpjs_company_percentage",modelValue:n(a).bpjs_company_percentage,"onUpdate:modelValue":e[14]||(e[14]=s=>n(a).bpjs_company_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(x,{message:n(a).errors.bpjs_company_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(f,{for:"bpjs_employee_percentage",class:"block text-sm font-medium text-gray-700"},{default:p(()=>e[39]||(e[39]=[g(" BPJS - Employee Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(_,{id:"bpjs_employee_percentage",modelValue:n(a).bpjs_employee_percentage,"onUpdate:modelValue":e[15]||(e[15]=s=>n(a).bpjs_employee_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(x,{message:n(a).errors.bpjs_employee_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])])])):b("",!0),t("div",null,[l(f,{for:"benefits",value:"Benefits",class:"block text-sm font-medium text-gray-700"}),S(t("textarea",{id:"benefits","onUpdate:modelValue":e[16]||(e[16]=s=>n(a).benefits=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[G,n(a).benefits]]),l(x,{message:n(a).errors.benefits,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",ze,[l(re,{on:n(a).recentlySuccessful,class:"me-3 text-green-600"},{default:p(()=>e[40]||(e[40]=[g(" Tersimpan. ")])),_:1},8,["on"]),l(le,{class:oe([{"opacity-25":n(a).processing},"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"]),disabled:n(a).processing},{default:p(()=>[g(i(Q.value),1)]),_:1},8,["class","disabled"])])],32)])):b("",!0)])])]),_:1}))}};export{at as default};

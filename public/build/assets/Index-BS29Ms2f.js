import{d as h,l as v,W as d,c as _,o as p,w,a as e,e as i,f as k,t as n,p as u,E as P,b as C,F as D,h as S,n as g,v as V}from"./app-w8r8lidQ.js";import{A as j}from"./AppLayout-B4YszN6Y.js";import{_ as B}from"./TextInput-DsCrS9Ef.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"p-4"},N={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},T={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},A={class:"relative"},F={class:"relative"},L={class:"mt-4 overflow-x-auto"},M={class:"min-w-full border bg-white rounded-lg shadow-md"},U={class:"px-4 py-2"},$={class:"px-4 py-2"},z={class:"px-4 py-2"},E={class:"px-4 py-2"},J={class:"px-4 py-2"},O={class:"flex justify-between items-center mt-4"},W={class:"flex items-center space-x-2"},R={class:"flex space-x-2"},q=["disabled"],G=["disabled"],Y={__name:"Index",props:{debits:Object,filters:Object},setup(o){const r=o,y=l=>new Date(l).toLocaleDateString("id-ID"),c=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l||0),a=h({search:r.filters.search||"",date:r.filters.date||"",perPage:r.debits.per_page||10}),x=()=>{d.get(route("debits.index"),{...a.value,perPage:a.value.perPage})},m=()=>{r.debits.current_page<r.debits.last_page&&d.get(r.debits.next_page_url)},b=()=>{r.debits.current_page>1&&d.get(r.debits.prev_page_url)};return v(a,l=>{d.get(route("debits.index"),l,{preserveState:!0,replace:!0})},{deep:!0}),(l,s)=>(p(),_(j,{title:"Data Debit"},{default:w(()=>[e("div",I,[l.$page.props.flash.success?(p(),i("div",N,n(l.$page.props.flash.success),1)):k("",!0),e("div",T,[e("div",A,[u(e("input",{type:"date","onUpdate:modelValue":s[0]||(s[0]=t=>a.value.date=t),class:"border rounded-md p-2"},null,512),[[P,a.value.date]])]),e("div",F,[C(B,{modelValue:a.value.search,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.search=t),placeholder:"Cari berdasarkan catatan...",class:"pl-10 pr-4 py-2 border rounded-md w-64"},null,8,["modelValue"]),s[3]||(s[3]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])]),e("div",L,[e("table",M,[s[4]||(s[4]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"No"),e("th",{class:"px-4 py-2 text-left"},"Tanggal"),e("th",{class:"px-4 py-2 text-left"},"Jenis"),e("th",{class:"px-4 py-2 text-left"},"Catatan"),e("th",{class:"px-4 py-2 text-left"},"Jumlah"),e("th",{class:"px-4 py-2 text-left"},"Saldo")])],-1)),e("tbody",null,[(p(!0),i(D,null,S(o.debits.data,(t,f)=>(p(),i("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[e("td",U,n((o.debits.current_page-1)*o.debits.per_page+f+1),1),e("td",$,n(y(t.created_at)),1),e("td",z,[e("span",{class:g({"text-green-600":t.type==="income","text-red-600":t.type==="expense","text-yellow-500":t.type==="withdraw","text-blue-500":t.type==="deposit"})},n(t.type==="income"?"Pendapatan":t.type==="withdraw"?"Tarik Tunai":t.type==="deposit"?"Setor Tunai":"Pengeluaran"),3)]),e("td",E,n(t.note||"-"),1),e("td",{class:g(["px-4 py-2",{"text-green-600":t.type==="income","text-red-600":t.type==="expense","text-yellow-500":t.type==="withdraw","text-blue-500":t.type==="deposit"}])},n(c(t.amount)),3),e("td",J,n(c(t.balance)),1)]))),128))])])]),e("div",O,[e("div",W,[u(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.perPage=t),onChange:x,class:"border rounded-md p-1 text-sm"},s[5]||(s[5]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),544),[[V,a.value.perPage]])]),e("div",R,[e("button",{onClick:b,disabled:o.debits.current_page===1,class:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50"}," Sebelumnya ",8,q),e("button",{onClick:m,disabled:o.debits.current_page===o.debits.last_page,class:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50"}," Selanjutnya ",8,G)])])])]),_:1}))}};export{Y as default};

import{d as C,C as M,l as N,c as j,o as d,w as m,a as t,b as n,e as u,g as i,F as E,h as F,f as S,t as g,n as H,q as I,u as l,p as v,y as h,W as K}from"./app-D2X3WIG8.js";import{A as P}from"./AppLayout-FVjM9t-3.js";import{_ as q}from"./CustomModal-iIvs2a6f.js";import{_ as k}from"./PrimaryButton-C6q58QT2.js";import{_ as O}from"./SecondaryButton-DV4lN_7m.js";import{_ as x}from"./InputLabel-CypRBiH4.js";import{_ as b}from"./TextInput-BHiSSQR2.js";import{_ as y}from"./InputError-8lQGInG3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"p-4"},L={class:"container mx-auto p-2"},W={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white p-4 rounded-lg shadow-md mb-2"},z={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},G={class:"flex items-center justify-between"},Q={class:"text-lg font-semibold"},R={class:"text-sm text-gray-500"},X={class:"text-xl font-bold text-purple-600"},Y={class:"text-sm text-gray-500"},Z={key:0,class:"text-sm text-green-500"},aa={key:1,class:"text-sm text-blue-500"},ea={class:"mt-4 flex space-x-2"},ta={key:1,class:"text-center bg-white p-2 rounded-lg shadow-md"},sa={class:"mb-4"},na={class:"mb-4"},la={class:"mb-4"},oa={class:"mb-4"},ia={class:"mb-4"},ra={class:"flex items-center"},da={class:"mb-4"},ma={class:"flex items-center"},ua={class:"mb-4"},ga={class:"flex items-center"},pa={class:"flex justify-end mt-4"},wa={__name:"Index",props:{bills:Array},setup(w){const _=C(!1),r=C(!1),e=M({id:null,name:"",note:"",amount:"",balance:"",date:"",reminder:!1,auto:!1,is_active:!1}),p=o=>o?new Intl.NumberFormat("id-ID").format(o.replace(/\D/g,"")):"";N(()=>{e&&(e.amount=p(String(e.amount)),e.balance=p(String(e.balance)))});const T=(o,a=null)=>{var s,c;r.value=o==="edit",r.value&&a?(e.id=a.id,e.name=((s=a.sub_category)==null?void 0:s.name)||"",e.note=a.note,e.amount=p(String(a.amount)),e.balance=p(String(a.balance)),e.date=a.date,e.reminder=!!a.reminder,e.auto=!!a.auto,e.is_active=!!((c=a.sub_category)!=null&&c.is_active)):e.reset(),_.value=!0},f=()=>{e.reset(),_.value=!1},D=()=>{e.amount=e.amount.replace(/\D/g,""),e.balance=e.balance.replace(/\D/g,""),r.value?e.put(route("bills.update",e.id),{onSuccess:()=>f()}):e.post(route("bills.store"),{onSuccess:()=>f()})},A=o=>{confirm("Apakah Anda yakin ingin menghapus bill ini?")&&K.delete(route("bills.destroy",o))},U=o=>o?new Date(o).getDate():"";return(o,a)=>(d(),j(P,{title:"Kelola Bill"},{default:m(()=>[t("div",J,[t("div",L,[t("div",W,[a[9]||(a[9]=t("div",null,[t("h1",{class:"text-xl font-semibold text-gray-800"},"Kelola Tagihan Bulanan"),t("p",{class:"text-sm text-gray-600 mt-1"}," Halaman ini digunakan untuk mengelola dan menambahkan data tagihan bulanan seperti listrik, internet, dan tagihan rutin lainnya. ")],-1)),n(k,{onClick:a[0]||(a[0]=s=>T("create")),class:"mt-4 sm:mt-0"},{default:m(()=>a[8]||(a[8]=[i("Tambah Bill (Tagihan)")])),_:1})]),w.bills.length>0?(d(),u("div",z,[(d(!0),u(E,null,F(w.bills,s=>{var c,V,B;return d(),u("div",{key:s.id,class:"bg-white p-6 rounded-lg shadow-md"},[t("div",G,[t("h2",Q,g(((c=s.sub_category)==null?void 0:c.name)||"Tanpa Kategori"),1),t("span",{class:H(["px-2 py-1 text-xs font-semibold rounded-lg",(V=s.sub_category)!=null&&V.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"])},g((B=s.sub_category)!=null&&B.is_active?"Aktif":"Tidak Aktif"),3)]),t("p",R,g(s.note),1),t("p",X,g(p(s.amount)),1),t("p",Y,"Tanggal Batas Akhir : "+g(U(s.date)),1),s.reminder?(d(),u("p",Z," Tagihan ini di set Pengingat dan akan diingatkan selalu. ")):S("",!0),s.auto?(d(),u("p",aa," Setiap tanggal jatuh tempo, tagihan akan otomatis tersimpan ke data. ")):S("",!0),t("div",ea,[n(k,{onClick:$=>T("edit",s)},{default:m(()=>a[10]||(a[10]=[i("Edit")])),_:2},1032,["onClick"]),n(k,{class:"bg-red-600 hover:bg-red-700",onClick:$=>A(s.id)},{default:m(()=>a[11]||(a[11]=[i("Hapus")])),_:2},1032,["onClick"])])])}),128))])):(d(),u("div",ta,a[12]||(a[12]=[t("p",{class:"text-gray-500 text-sm"},"Belum ada tagihan yang tercatat. Silakan tambahkan tagihan baru.",-1)]))),a[13]||(a[13]=t("div",{class:"mt-4 bg-gray-100 p-2 rounded-lg shadow-md"},[t("h2",{class:"text-lg font-semibold text-gray-800"},"Informasi Mengenai Tagihan"),t("p",{class:"text-sm text-gray-600 mt-2"}," Halaman ini hanya digunakan untuk mencatat kategori tagihan yang harus dibayar setiap bulan, seperti listrik, internet, atau tagihan lainnya. "),t("p",{class:"text-sm text-gray-600 mt-2"},[i(" Untuk pembayaran atau transaksi, silakan lakukan melalui halaman "),t("strong",null,"Transaksi Pengeluaran (Expenses)"),i(". Pilih kategori "),t("strong",null,"Bill (Tagihan)"),i(" dan tambahkan keterangan sesuai jenis tagihan yang dibayarkan. ")])],-1))]),n(q,{show:_.value,title:r.value?"Edit Bill (Tagihan)":"Tambah Bill (Tagihan)",onClose:f},{content:m(()=>[t("form",{onSubmit:I(D,["prevent"])},[t("div",sa,[n(x,{for:"name",value:"Nama Bill (Tagihan)"}),n(b,{id:"name",modelValue:l(e).name,"onUpdate:modelValue":a[1]||(a[1]=s=>l(e).name=s),class:"block w-full",disabled:r.value,readonly:r.value},null,8,["modelValue","disabled","readonly"]),n(y,{message:l(e).errors.name},null,8,["message"])]),t("div",na,[n(x,{for:"note",value:"Keterangan"}),n(b,{id:"note",modelValue:l(e).note,"onUpdate:modelValue":a[2]||(a[2]=s=>l(e).note=s),class:"block w-full"},null,8,["modelValue"]),n(y,{message:l(e).errors.note},null,8,["message"])]),t("div",la,[n(x,{for:"amount",value:"Jumlah Tagihan"}),n(b,{id:"amount",type:"number",modelValue:l(e).amount,"onUpdate:modelValue":a[3]||(a[3]=s=>l(e).amount=s),class:"block w-full",required:""},null,8,["modelValue"]),n(y,{message:l(e).errors.amount},null,8,["message"])]),t("div",oa,[n(x,{for:"date",value:"Tanggal Tagihan"}),n(b,{id:"date",type:"date",modelValue:l(e).date,"onUpdate:modelValue":a[4]||(a[4]=s=>l(e).date=s),class:"block w-full",required:""},null,8,["modelValue"]),n(y,{message:l(e).errors.date},null,8,["message"])]),t("div",ia,[t("label",ra,[v(t("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=s=>l(e).is_active=s),class:"mr-2"},null,512),[[h,l(e).is_active]]),a[14]||(a[14]=t("span",null,"Status",-1))]),a[15]||(a[15]=t("p",{class:"text-sm text-gray-500"},"Jika Aktif akan bisa Transaksi",-1))]),t("div",da,[t("label",ma,[v(t("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=s=>l(e).reminder=s),class:"mr-2"},null,512),[[h,l(e).reminder]]),a[16]||(a[16]=t("span",null,"Pengingat",-1))]),a[17]||(a[17]=t("p",{class:"text-sm text-gray-500"},"Akan diingatkan H-1 dari Tanggal",-1))]),t("div",ua,[t("label",ga,[v(t("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=s=>l(e).auto=s),class:"mr-2"},null,512),[[h,l(e).auto]]),a[18]||(a[18]=t("span",null,"Otomatis",-1))]),a[19]||(a[19]=t("p",{class:"text-sm text-gray-500"},"Secara Otomatis Masuk data sesuai tanggal",-1))]),t("div",pa,[n(O,{type:"button",onClick:f},{default:m(()=>a[20]||(a[20]=[i("Batal")])),_:1}),n(k,{class:"ml-3",type:"submit"},{default:m(()=>[i(g(r.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])])]),_:1}))}};export{wa as default};

import{d as g,i as D,C as Y,k as P,c as Z,o as d,w as c,a as t,e as u,f as b,t as i,p as A,F as ee,h as te,g as f,v as se,q as ae,b as l,u as o,z as G,x as ne,n as oe,W as H,S as K}from"./app-B7i476IW.js";import{A as le}from"./AppLayout-DYxnbsM3.js";import{_ as x}from"./InputLabel-DrC7EUNk.js";import{_ as h}from"./TextInput-eH0qOyXf.js";import{_ as k}from"./InputError-BAp61ugy.js";import{_ as re}from"./PrimaryButton-Pht67KKk.js";import{_ as ie}from"./ActionMessage-CozKp4dl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const de={class:"p-4"},ue={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-2"},me={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-2"},be={key:2,class:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-2"},pe={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},ge={class:"text-gray-500"},ce={key:0},fe={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},xe={class:"flex items-center"},ke=["checked"],ve={class:"ml-2 text-gray-700 text-sm"},ye={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},he={class:"flex items-center"},_e=["checked"],we={class:"ml-2 text-gray-700 text-sm"},je={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},Se={class:"text-gray-500"},Te={key:0},Ae={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ce={class:"flex items-center"},Pe=["checked"],Ve={class:"ml-2 text-gray-700 text-sm"},Be={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ue={class:"flex items-center"},$e=["value","disabled"],Je={key:0},Ie={key:0,class:"text-red-500 text-sm mt-2"},Ne={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ee={class:"flex items-center"},Me=["checked"],Oe={class:"ml-2 text-gray-700 text-sm"},De={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Ge={class:"flex items-center"},He=["checked"],Ke={class:"ml-2 text-gray-700 text-sm"},Fe={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},ze={class:"text-gray-500"},Le={key:0},We={class:"mt-2 mb-6 p-4 bg-blue-100 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},qe={class:"mb-4"},Qe={class:"flex items-center"},Re=["checked"],Xe={class:"mb-4"},Ye={class:"flex items-center"},Ze=["checked"],et={class:"mb-6 p-4 bg-blue-100 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},tt={class:"mb-4"},st={class:"flex items-center"},at=["checked"],nt={class:"mb-4"},ot={class:"flex items-center"},lt=["checked"],rt={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},it={class:"text-gray-500"},dt={key:0},ut={class:"flex items-center"},mt={key:0,class:"space-y-4"},bt={class:"flex justify-end"},ht={__name:"Settings",props:{job:Object,userId:Number},setup(F){var U,$,J,I,N,E,M,O;const r=g(D().props.settings),C=g(D().props.accounts),v=g(r.value.account_id),_=g(!1),w=g(!1),j=g(!1),S=g(!1),T=a=>{a==="table"?_.value=!_.value:a==="job"?j.value=!j.value:a==="savings"?w.value=!w.value:a==="transaction"&&(S.value=!S.value)},p=(a,e)=>{H.post(route("settings.update",{key:a}),{value:e},{preserveScroll:!0,onSuccess:()=>{r.value[a]=e}})},z=()=>{if(!v.value){y.value="Pilih bank harus diisi";return}const a=C.value.find(s=>s.id===r.value.account_id),e=C.value.find(s=>s.id===v.value);K.fire({title:"Konfirmasi Perubahan",html:`Jika Account Bank Saving diubah, saldo di bank <b>${(a==null?void 0:a.name)||"sebelumnya"}</b> akan dipindahkan ke akun bank <b>${e==null?void 0:e.name}</b>. Apakah Anda yakin?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Setuju",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&L()})},L=()=>{H.post(route("setting_Account.update",{key:r.value.id}),{account_id:v.value},{preserveScroll:!0,onSuccess:()=>{y.value=""},onError:a=>{console.error("Error:",a),K.fire("Gagal!","Gagal memperbarui bank. Silakan coba lagi.","error"),y.value="Gagal memperbarui bank. Silakan coba lagi."}})},y=g(""),m=F,n=Y({company_name:((U=m.job)==null?void 0:U.company_name)||"",job_title:(($=m.job)==null?void 0:$.job_title)||"",job_description:((J=m.job)==null?void 0:J.job_description)||"",salary:((I=m.job)==null?void 0:I.salary)||"",bpjs:!!((N=m.job)!=null&&N.bpjs)||!1,bpjs_company_percentage:((E=m.job)==null?void 0:E.bpjs_company_percentage)||"",bpjs_employee_percentage:((M=m.job)==null?void 0:M.bpjs_employee_percentage)||"",benefits:((O=m.job)==null?void 0:O.benefits)||""}),V=P(()=>!!m.job),W=a=>!a&&a!==0?"":new Intl.NumberFormat("id-ID").format(a),q=a=>a?String(a).replace(/\./g,""):"",B=P({get:()=>W(n.salary),set:a=>n.salary=q(a)}),Q=a=>{const e=String(a.target.value).replace(/\./g,"");n.salary=e},R=P(()=>V.value?"Update":"Save"),X=()=>{V.value?n.put(route("job.update",m.job.id),{preserveScroll:!0}):n.post(route("job.store"),{preserveScroll:!0})};return(a,e)=>(d(),Z(le,{title:"Settings"},{default:c(()=>[t("div",de,[a.$page.props.flash.success?(d(),u("div",ue,i(a.$page.props.flash.success),1)):b("",!0),a.$page.props.flash.error?(d(),u("div",me,i(a.$page.props.flash.error),1)):b("",!0),a.$page.props.flash.info?(d(),u("div",be,i(a.$page.props.flash.info),1)):b("",!0),e[56]||(e[56]=t("h4",{class:"text-2xl font-bold mb-4"},"Pengaturan",-1)),t("div",pe,[t("div",{onClick:e[0]||(e[0]=s=>T("table")),class:"flex justify-between items-center cursor-pointer"},[e[22]||(e[22]=t("h2",{class:"text-lg font-bold"},"Tabel",-1)),t("span",ge,i(_.value?"▲":"▼"),1)]),e[25]||(e[25]=t("span",{class:"text-gray-500"},"Edit dan Hapus hanya jika perlu saja ",-1)),_.value?(d(),u("div",ce,[t("div",fe,[e[23]||(e[23]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Edit disemua Tabel",-1)),t("div",xe,[t("input",{type:"checkbox",checked:r.value.btn_edit,onChange:e[1]||(e[1]=s=>p("btn_edit",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,ke),t("span",ve,i(r.value.btn_edit?"Aktif":"Tidak Aktif"),1)])]),t("div",ye,[e[24]||(e[24]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Hapus disemua Tabel",-1)),t("div",he,[t("input",{type:"checkbox",checked:r.value.btn_delete,onChange:e[2]||(e[2]=s=>p("btn_delete",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,_e),t("span",we,i(r.value.btn_delete?"Aktif":"Tidak Aktif"),1)])])])):b("",!0)]),t("div",je,[t("div",{onClick:e[3]||(e[3]=s=>T("savings")),class:"flex justify-between items-center cursor-pointer"},[e[26]||(e[26]=t("h2",{class:"text-lg font-bold"},"Tabungan",-1)),t("span",Se,i(w.value?"▲":"▼"),1)]),e[37]||(e[37]=t("span",{class:"text-gray-500"},"Untuk mengaktifkan Tabungan cukup klik Tabungan, lalu buat Kategory tabungannya di setup",-1)),w.value?(d(),u("div",Te,[t("div",Ae,[e[27]||(e[27]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Aktifkan Tabungan",-1)),e[28]||(e[28]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Memindahkan Saldo Utama ke data Tabungan, Kategori tabungan akan muncul ditransaksi pengeluaran",-1)),t("div",Ce,[t("input",{type:"checkbox",checked:r.value.expense_saving,onChange:e[4]||(e[4]=s=>p("expense_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Pe),t("span",Ve,i(r.value.expense_saving?"Aktif":"Tidak Aktif"),1)])]),t("div",Be,[e[30]||(e[30]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Pilih Akun Bank",-1)),e[31]||(e[31]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Tentukan BANK untuk Saving (Tabungan) ",-1)),t("div",Ue,[A(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>v.value=s),class:"block w-full border rounded-md p-2"},[e[29]||(e[29]=t("option",{disabled:"",value:""},"--Pilih Bank Saving--",-1)),(d(!0),u(ee,null,te(C.value,s=>(d(),u("option",{key:s.id,value:s.id,disabled:!s.is_active},[f(i(s.name)+" ",1),s.is_active?b("",!0):(d(),u("span",Je,"(Tidak Aktif)"))],8,$e))),128))],512),[[se,v.value]]),t("button",{onClick:z,class:"ml-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm"}," Simpan ")]),y.value?(d(),u("p",Ie,i(y.value),1)):b("",!0),e[32]||(e[32]=t("p",{class:"text-gray-600 mt-2 text-sm"},"Untuk memilih Akun Bank Harap Aktifkan dulu Tabungan di atas",-1))]),t("div",Ne,[e[33]||(e[33]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Tabungan Sumber Pengeluaran ",-1)),e[34]||(e[34]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Anda dapat mengambil Uang dari Tabungan untuk pengeluaran",-1)),t("div",Ee,[t("input",{type:"checkbox",checked:r.value.saving_expense,onChange:e[6]||(e[6]=s=>p("saving_expense",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Me),t("span",Oe,i(r.value.saving_expense?"Aktif":"Tidak Aktif"),1)])]),t("div",De,[e[35]||(e[35]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Income to Savings",-1)),e[36]||(e[36]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Agar di transaksi Income ada category Saving muncul",-1)),t("div",Ge,[t("input",{type:"checkbox",checked:r.value.income_saving,onChange:e[7]||(e[7]=s=>p("income_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,He),t("span",Ke,i(r.value.income_saving?"Aktif":"Tidak Aktif"),1)])])])):b("",!0)]),t("div",Fe,[t("div",{onClick:e[8]||(e[8]=s=>T("transaction")),class:"flex justify-between items-center cursor-pointer"},[e[38]||(e[38]=t("h2",{class:"text-lg font-bold"},"Pengaturan Transaksi",-1)),t("span",ze,i(S.value?"▲":"▼"),1)]),e[45]||(e[45]=t("span",{class:"text-gray-500"},"Pengaturan tampilan dan fitur transaksi",-1)),S.value?(d(),u("div",Le,[t("div",We,[e[41]||(e[41]=t("h3",{class:"font-bold mb-2"},"Pengaturan Tanggal",-1)),t("div",qe,[t("label",Qe,[t("input",{type:"checkbox",checked:r.value.date_in,onChange:e[9]||(e[9]=s=>p("date_in",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Re),e[39]||(e[39]=t("span",{class:"ml-2 text-gray-700"},"Tampilkan Input Tanggal di Pemasukan",-1))])]),t("div",Xe,[t("label",Ye,[t("input",{type:"checkbox",checked:r.value.date_ex,onChange:e[10]||(e[10]=s=>p("date_ex",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Ze),e[40]||(e[40]=t("span",{class:"ml-2 text-gray-700"},"Tampilkan Input Tanggal di Pengeluaran",-1))])])]),t("div",et,[e[44]||(e[44]=t("h3",{class:"font-bold mb-2"},"Pengaturan Metode Pembayaran",-1)),t("div",tt,[t("label",st,[t("input",{type:"checkbox",checked:r.value.bank,onChange:e[11]||(e[11]=s=>p("bank",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,at),e[42]||(e[42]=t("span",{class:"ml-2 text-gray-700"},"Aktifkan Pembayaran via Bank/Transfer",-1))])]),t("div",nt,[t("label",ot,[t("input",{type:"checkbox",checked:r.value.cash,onChange:e[12]||(e[12]=s=>p("cash",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,lt),e[43]||(e[43]=t("span",{class:"ml-2 text-gray-700"},"Aktifkan Pembayaran Tunai",-1))])])])])):b("",!0)]),t("div",rt,[t("div",{onClick:e[13]||(e[13]=s=>T("job")),class:"flex justify-between items-center cursor-pointer"},[e[46]||(e[46]=t("h2",{class:"text-lg font-bold"},"Pekerjaan",-1)),t("span",it,i(j.value?"▲":"▼"),1)]),e[55]||(e[55]=t("span",{class:"text-gray-500"},"Update Pekerjaan di bawah dengan benar",-1)),j.value?(d(),u("div",dt,[t("form",{onSubmit:ae(X,["prevent"]),class:"mt-6 space-y-6"},[e[54]||(e[54]=t("div",{class:"bg-yellow-100 p-4 rounded-lg text-yellow-800 text-sm font-semibold"}," Jika memiliki BPJS harap centang dan isi persenannya sesuai aturan dari pemerintah untuk menghitung BPJS secara otomatis ",-1)),t("div",null,[l(x,{for:"company_name",class:"block text-sm font-medium text-gray-700"},{default:c(()=>e[47]||(e[47]=[f(" Nama Perusahaan "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(h,{id:"company_name",modelValue:o(n).company_name,"onUpdate:modelValue":e[14]||(e[14]=s=>o(n).company_name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(k,{message:o(n).errors.company_name,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(x,{for:"job_title",class:"block text-sm font-medium text-gray-700"},{default:c(()=>e[48]||(e[48]=[f(" Pekerjaan (Jabatan) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(h,{id:"job_title",modelValue:o(n).job_title,"onUpdate:modelValue":e[15]||(e[15]=s=>o(n).job_title=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(k,{message:o(n).errors.job_title,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(x,{for:"job_description",value:"Deskripsi Pekerjaan",class:"block text-sm font-medium text-gray-700"}),A(t("textarea",{id:"job_description","onUpdate:modelValue":e[16]||(e[16]=s=>o(n).job_description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[G,o(n).job_description]]),l(k,{message:o(n).errors.job_description,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(x,{for:"salary",class:"block text-sm font-medium text-gray-700"},{default:c(()=>e[49]||(e[49]=[f(" Salary (Gajih) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(h,{id:"salary",type:"text",modelValue:B.value,"onUpdate:modelValue":e[17]||(e[17]=s=>B.value=s),onInput:Q,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(k,{message:o(n).errors.salary,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",ut,[A(t("input",{id:"bpjs",type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=s=>o(n).bpjs=s),class:"h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"},null,512),[[ne,o(n).bpjs]]),e[50]||(e[50]=t("label",{for:"bpjs",class:"ml-2 text-sm text-gray-700"},"Has BPJS?",-1))]),o(n).bpjs?(d(),u("div",mt,[t("div",null,[l(x,{for:"bpjs_company_percentage",class:"block text-sm font-medium text-gray-700"},{default:c(()=>e[51]||(e[51]=[f(" BPJS - Company Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(h,{id:"bpjs_company_percentage",modelValue:o(n).bpjs_company_percentage,"onUpdate:modelValue":e[19]||(e[19]=s=>o(n).bpjs_company_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(k,{message:o(n).errors.bpjs_company_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[l(x,{for:"bpjs_employee_percentage",class:"block text-sm font-medium text-gray-700"},{default:c(()=>e[52]||(e[52]=[f(" BPJS - Employee Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),l(h,{id:"bpjs_employee_percentage",modelValue:o(n).bpjs_employee_percentage,"onUpdate:modelValue":e[20]||(e[20]=s=>o(n).bpjs_employee_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),l(k,{message:o(n).errors.bpjs_employee_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])])])):b("",!0),t("div",null,[l(x,{for:"benefits",value:"Benefits",class:"block text-sm font-medium text-gray-700"}),A(t("textarea",{id:"benefits","onUpdate:modelValue":e[21]||(e[21]=s=>o(n).benefits=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[G,o(n).benefits]]),l(k,{message:o(n).errors.benefits,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",bt,[l(ie,{on:o(n).recentlySuccessful,class:"me-3 text-green-600"},{default:c(()=>e[53]||(e[53]=[f(" Tersimpan. ")])),_:1},8,["on"]),l(re,{class:oe([{"opacity-25":o(n).processing},"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"]),disabled:o(n).processing},{default:c(()=>[f(i(R.value),1)]),_:1},8,["class","disabled"])])],32)])):b("",!0)])])]),_:1}))}};export{ht as default};

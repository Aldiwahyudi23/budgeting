import{d as p,i as $,k as B,C as se,c as ae,o as i,w as g,a as t,e as u,f as m,t as d,p as C,F as ne,h as oe,g as f,v as le,q as re,b as r,u as o,x as F,y as ie,n as de,S as v,W as z}from"./app-BrPtzkkN.js";import{A as ue}from"./AppLayout-C79_jNCB.js";import{_ as k}from"./InputLabel-BFyIjoW5.js";import{_}from"./TextInput-5Kd50gVj.js";import{_ as x}from"./InputError-DH-IS8SA.js";import{_ as me}from"./PrimaryButton-WwNLqnzx.js";import{_ as be}from"./ActionMessage-CFnfFAL7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DlF4K_pY.js";const pe={class:"p-4"},ce={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-2"},ge={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-2"},fe={key:2,class:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-2"},ke={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},xe={class:"text-gray-500"},ve={key:0},ye={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},he={class:"flex items-center"},_e=["checked","disabled"],we={class:"ml-2 text-gray-700 text-sm"},je={key:0,class:"mt-2 text-sm text-red-600"},Te={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Se={class:"flex items-center"},Ae=["checked","disabled"],Pe={class:"ml-2 text-gray-700 text-sm"},Be={key:0,class:"mt-2 text-sm text-red-600"},Ce={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},Ve={class:"text-gray-500"},Ue={key:0},$e={class:"mt-2 mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Je={class:"flex items-center"},Ie=["checked"],Ne={class:"ml-2 text-gray-700 text-sm"},Ee={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Oe={class:"flex items-center"},Ke=["value","disabled"],Me={key:0},Ge={key:0,class:"text-red-500 text-sm mt-2"},He={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},De={class:"flex items-center"},We=["checked"],Fe={class:"ml-2 text-gray-700 text-sm"},ze={class:"mb-6 p-4 bg-blue-100 p-4 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},Le={class:"flex items-center"},qe=["checked"],Qe={class:"ml-2 text-gray-700 text-sm"},Re={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},Xe={class:"text-gray-500"},Ye={key:0},Ze={class:"mt-2 mb-6 p-4 bg-blue-100 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},et={class:"mb-4"},tt={class:"flex items-center"},st=["checked"],at={class:"mb-4"},nt={class:"flex items-center"},ot=["checked"],lt={class:"mb-6 p-4 bg-blue-100 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1"},rt={class:"mb-4"},it={class:"flex items-center"},dt=["checked"],ut={class:"mb-4"},mt={class:"flex items-center"},bt=["checked"],pt={class:"mb-6 p-4 bg-white rounded-lg shadow-md"},ct={class:"text-gray-500"},gt={key:0},ft={class:"flex items-center"},kt={key:0,class:"space-y-4"},xt={class:"flex justify-end"},Pt={__name:"Settings",props:{job:Object,userId:Number},setup(L){var E,O,K,M,G,H,D,W;const l=p($().props.settings),V=p($().props.accounts),y=p(l.value.account_id),U=p($().props.auth.user),w=B(()=>U.value.numberPhone&&U.value.numberPhone.trim()!==""),j=p(!1),T=p(!1),S=p(!1),A=p(!1),P=a=>{a==="table"?j.value=!j.value:a==="job"?S.value=!S.value:a==="savings"?T.value=!T.value:a==="transaction"&&(A.value=!A.value)},J=async(a,e)=>{const{value:s}=await v.fire({title:"Verifikasi",text:"Masukkan sandi Tombol untuk melanjutkan:",input:"text",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Verifikasi",cancelButtonText:"Batal",inputValidator:te=>{if(!te)return"Harap masukkan sandi!"}});s?s===U.value.sandi_botton?c(a,e):(v.fire({title:"Gagal!",text:"Sandi tidak sesuai",icon:"error",confirmButtonText:"OK"}),l.value[a]=!e):l.value[a]=!e},c=(a,e)=>{z.post(route("settings.update",{key:a}),{value:e},{preserveScroll:!0,onSuccess:()=>{v.fire({title:"Berhasil!",text:"Pengaturan berhasil diperbarui.",icon:"success",confirmButtonText:"OK"}),l.value[a]=e},onError:()=>{v.fire({title:"Gagal!",text:"Terjadi kesalahan saat memperbarui pengaturan.",icon:"error",confirmButtonText:"OK"}),l.value[a]=!e}})},q=()=>{if(!y.value){h.value="Pilih bank harus diisi";return}const a=V.value.find(s=>s.id===l.value.account_id),e=V.value.find(s=>s.id===y.value);v.fire({title:"Konfirmasi Perubahan",html:`Jika Account Bank Saving diubah, saldo di bank <b>${(a==null?void 0:a.name)||"sebelumnya"}</b> akan dipindahkan ke akun bank <b>${e==null?void 0:e.name}</b>. Apakah Anda yakin?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Setuju",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&Q()})},Q=()=>{z.post(route("setting_Account.update",{key:l.value.id}),{account_id:y.value},{preserveScroll:!0,onSuccess:()=>{h.value=""},onError:a=>{console.error("Error:",a),v.fire("Gagal!","Gagal memperbarui bank. Silakan coba lagi.","error"),h.value="Gagal memperbarui bank. Silakan coba lagi."}})},h=p(""),b=L,n=se({company_name:((E=b.job)==null?void 0:E.company_name)||"",job_title:((O=b.job)==null?void 0:O.job_title)||"",job_description:((K=b.job)==null?void 0:K.job_description)||"",salary:((M=b.job)==null?void 0:M.salary)||"",bpjs:!!((G=b.job)!=null&&G.bpjs)||!1,bpjs_company_percentage:((H=b.job)==null?void 0:H.bpjs_company_percentage)||"",bpjs_employee_percentage:((D=b.job)==null?void 0:D.bpjs_employee_percentage)||"",benefits:((W=b.job)==null?void 0:W.benefits)||""}),I=B(()=>!!b.job),R=a=>!a&&a!==0?"":new Intl.NumberFormat("id-ID").format(a),X=a=>a?String(a).replace(/\./g,""):"",N=B({get:()=>R(n.salary),set:a=>n.salary=X(a)}),Y=a=>{const e=String(a.target.value).replace(/\./g,"");n.salary=e},Z=B(()=>I.value?"Update":"Save"),ee=()=>{I.value?n.put(route("job.update",b.job.id),{preserveScroll:!0}):n.post(route("job.store"),{preserveScroll:!0})};return(a,e)=>(i(),ae(ue,{title:"Settings"},{default:g(()=>[t("div",pe,[a.$page.props.flash.success?(i(),u("div",ce,d(a.$page.props.flash.success),1)):m("",!0),a.$page.props.flash.error?(i(),u("div",ge,d(a.$page.props.flash.error),1)):m("",!0),a.$page.props.flash.info?(i(),u("div",fe,d(a.$page.props.flash.info),1)):m("",!0),e[56]||(e[56]=t("h4",{class:"text-2xl font-bold mb-4"},"Pengaturan",-1)),t("div",ke,[t("div",{onClick:e[0]||(e[0]=s=>P("table")),class:"flex justify-between items-center cursor-pointer"},[e[22]||(e[22]=t("h2",{class:"text-lg font-bold"},"Tabel",-1)),t("span",xe,d(j.value?"▲":"▼"),1)]),e[25]||(e[25]=t("span",{class:"text-gray-500"},"Edit dan Hapus hanya jika perlu saja ",-1)),j.value?(i(),u("div",ve,[t("div",ye,[e[23]||(e[23]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Edit disemua Tabel",-1)),t("div",he,[t("input",{type:"checkbox",checked:l.value.btn_edit,onClick:e[1]||(e[1]=s=>J("btn_edit",!l.value.btn_edit)),disabled:!w.value,class:"form-checkbox h-5 w-5 text-blue-600"},null,8,_e),t("span",we,d(l.value.btn_edit?"Aktif":"Tidak Aktif"),1)]),w.value?m("",!0):(i(),u("p",je," Untuk mengaktifkan fitur ini, silakan tambahkan nomor WhatsApp terlebih dahulu. "))]),t("div",Te,[e[24]||(e[24]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Untuk memunculkan Tombol Hapus disemua Tabel",-1)),t("div",Se,[t("input",{type:"checkbox",checked:l.value.btn_delete,onClick:e[2]||(e[2]=s=>J("btn_delete",!l.value.btn_delete)),disabled:!w.value,class:"form-checkbox h-5 w-5 text-blue-600"},null,8,Ae),t("span",Pe,d(l.value.btn_delete?"Aktif":"Tidak Aktif"),1)]),w.value?m("",!0):(i(),u("p",Be," Untuk mengaktifkan fitur ini, silakan tambahkan nomor WhatsApp terlebih dahulu. "))])])):m("",!0)]),t("div",Ce,[t("div",{onClick:e[3]||(e[3]=s=>P("savings")),class:"flex justify-between items-center cursor-pointer"},[e[26]||(e[26]=t("h2",{class:"text-lg font-bold"},"Tabungan",-1)),t("span",Ve,d(T.value?"▲":"▼"),1)]),e[37]||(e[37]=t("span",{class:"text-gray-500"},"Untuk mengaktifkan Tabungan cukup klik Tabungan, lalu buat Kategory tabungannya di setup",-1)),T.value?(i(),u("div",Ue,[t("div",$e,[e[27]||(e[27]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Aktifkan Tabungan",-1)),e[28]||(e[28]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Memindahkan Saldo Utama ke data Tabungan, Kategori tabungan akan muncul ditransaksi pengeluaran",-1)),t("div",Je,[t("input",{type:"checkbox",checked:l.value.expense_saving,onChange:e[4]||(e[4]=s=>c("expense_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,Ie),t("span",Ne,d(l.value.expense_saving?"Aktif":"Tidak Aktif"),1)])]),t("div",Ee,[e[30]||(e[30]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Pilih Akun Bank",-1)),e[31]||(e[31]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Tentukan BANK untuk Saving (Tabungan) ",-1)),t("div",Oe,[C(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>y.value=s),class:"block w-full border rounded-md p-2"},[e[29]||(e[29]=t("option",{disabled:"",value:""},"--Pilih Bank Saving--",-1)),(i(!0),u(ne,null,oe(V.value,s=>(i(),u("option",{key:s.id,value:s.id,disabled:!s.is_active},[f(d(s.name)+" ",1),s.is_active?m("",!0):(i(),u("span",Me,"(Tidak Aktif)"))],8,Ke))),128))],512),[[le,y.value]]),t("button",{onClick:q,class:"ml-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm"}," Simpan ")]),h.value?(i(),u("p",Ge,d(h.value),1)):m("",!0),e[32]||(e[32]=t("p",{class:"text-gray-600 mt-2 text-sm"},"Untuk memilih Akun Bank Harap Aktifkan dulu Tabungan di atas",-1))]),t("div",He,[e[33]||(e[33]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Tabungan Sumber Pengeluaran ",-1)),e[34]||(e[34]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Anda dapat mengambil Uang dari Tabungan untuk pengeluaran",-1)),t("div",De,[t("input",{type:"checkbox",checked:l.value.saving_expense,onChange:e[6]||(e[6]=s=>c("saving_expense",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,We),t("span",Fe,d(l.value.saving_expense?"Aktif":"Tidak Aktif"),1)])]),t("div",ze,[e[35]||(e[35]=t("label",{class:"block text-gray-700 font-bold mb-2"},"Income to Savings",-1)),e[36]||(e[36]=t("p",{class:"text-gray-600 mb-2 text-sm"},"Agar di transaksi Income ada category Saving muncul",-1)),t("div",Le,[t("input",{type:"checkbox",checked:l.value.income_saving,onChange:e[7]||(e[7]=s=>c("income_saving",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,qe),t("span",Qe,d(l.value.income_saving?"Aktif":"Tidak Aktif"),1)])])])):m("",!0)]),t("div",Re,[t("div",{onClick:e[8]||(e[8]=s=>P("transaction")),class:"flex justify-between items-center cursor-pointer"},[e[38]||(e[38]=t("h2",{class:"text-lg font-bold"},"Pengaturan Transaksi",-1)),t("span",Xe,d(A.value?"▲":"▼"),1)]),e[45]||(e[45]=t("span",{class:"text-gray-500"},"Pengaturan tampilan dan fitur transaksi",-1)),A.value?(i(),u("div",Ye,[t("div",Ze,[e[41]||(e[41]=t("h3",{class:"font-bold mb-2"},"Pengaturan Tanggal",-1)),t("div",et,[t("label",tt,[t("input",{type:"checkbox",checked:l.value.date_in,onChange:e[9]||(e[9]=s=>c("date_in",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,st),e[39]||(e[39]=t("span",{class:"ml-2 text-gray-700"},"Tampilkan Input Tanggal di Pemasukan",-1))])]),t("div",at,[t("label",nt,[t("input",{type:"checkbox",checked:l.value.date_ex,onChange:e[10]||(e[10]=s=>c("date_ex",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,ot),e[40]||(e[40]=t("span",{class:"ml-2 text-gray-700"},"Tampilkan Input Tanggal di Pengeluaran",-1))])])]),t("div",lt,[e[44]||(e[44]=t("h3",{class:"font-bold mb-2"},"Pengaturan Metode Pembayaran",-1)),t("div",rt,[t("label",it,[t("input",{type:"checkbox",checked:l.value.bank,onChange:e[11]||(e[11]=s=>c("bank",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,dt),e[42]||(e[42]=t("span",{class:"ml-2 text-gray-700"},"Aktifkan Pembayaran via Bank/Transfer",-1))])]),t("div",ut,[t("label",mt,[t("input",{type:"checkbox",checked:l.value.cash,onChange:e[12]||(e[12]=s=>c("cash",s.target.checked)),class:"form-checkbox h-5 w-5 text-blue-600"},null,40,bt),e[43]||(e[43]=t("span",{class:"ml-2 text-gray-700"},"Aktifkan Pembayaran Tunai",-1))])])])])):m("",!0)]),t("div",pt,[t("div",{onClick:e[13]||(e[13]=s=>P("job")),class:"flex justify-between items-center cursor-pointer"},[e[46]||(e[46]=t("h2",{class:"text-lg font-bold"},"Pekerjaan",-1)),t("span",ct,d(S.value?"▲":"▼"),1)]),e[55]||(e[55]=t("span",{class:"text-gray-500"},"Update Pekerjaan di bawah dengan benar",-1)),S.value?(i(),u("div",gt,[t("form",{onSubmit:re(ee,["prevent"]),class:"mt-6 space-y-6"},[e[54]||(e[54]=t("div",{class:"bg-yellow-100 p-4 rounded-lg text-yellow-800 text-sm font-semibold"}," Jika memiliki BPJS harap centang dan isi persenannya sesuai aturan dari pemerintah untuk menghitung BPJS secara otomatis ",-1)),t("div",null,[r(k,{for:"company_name",class:"block text-sm font-medium text-gray-700"},{default:g(()=>e[47]||(e[47]=[f(" Nama Perusahaan "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),r(_,{id:"company_name",modelValue:o(n).company_name,"onUpdate:modelValue":e[14]||(e[14]=s=>o(n).company_name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),r(x,{message:o(n).errors.company_name,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[r(k,{for:"job_title",class:"block text-sm font-medium text-gray-700"},{default:g(()=>e[48]||(e[48]=[f(" Pekerjaan (Jabatan) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),r(_,{id:"job_title",modelValue:o(n).job_title,"onUpdate:modelValue":e[15]||(e[15]=s=>o(n).job_title=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),r(x,{message:o(n).errors.job_title,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[r(k,{for:"job_description",value:"Deskripsi Pekerjaan",class:"block text-sm font-medium text-gray-700"}),C(t("textarea",{id:"job_description","onUpdate:modelValue":e[16]||(e[16]=s=>o(n).job_description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[F,o(n).job_description]]),r(x,{message:o(n).errors.job_description,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[r(k,{for:"salary",class:"block text-sm font-medium text-gray-700"},{default:g(()=>e[49]||(e[49]=[f(" Salary (Gajih) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),r(_,{id:"salary",type:"text",modelValue:N.value,"onUpdate:modelValue":e[17]||(e[17]=s=>N.value=s),onInput:Y,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),r(x,{message:o(n).errors.salary,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",ft,[C(t("input",{id:"bpjs",type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=s=>o(n).bpjs=s),class:"h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"},null,512),[[ie,o(n).bpjs]]),e[50]||(e[50]=t("label",{for:"bpjs",class:"ml-2 text-sm text-gray-700"},"Has BPJS?",-1))]),o(n).bpjs?(i(),u("div",kt,[t("div",null,[r(k,{for:"bpjs_company_percentage",class:"block text-sm font-medium text-gray-700"},{default:g(()=>e[51]||(e[51]=[f(" BPJS - Company Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),r(_,{id:"bpjs_company_percentage",modelValue:o(n).bpjs_company_percentage,"onUpdate:modelValue":e[19]||(e[19]=s=>o(n).bpjs_company_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),r(x,{message:o(n).errors.bpjs_company_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",null,[r(k,{for:"bpjs_employee_percentage",class:"block text-sm font-medium text-gray-700"},{default:g(()=>e[52]||(e[52]=[f(" BPJS - Employee Contribution (%) "),t("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),r(_,{id:"bpjs_employee_percentage",modelValue:o(n).bpjs_employee_percentage,"onUpdate:modelValue":e[20]||(e[20]=s=>o(n).bpjs_employee_percentage=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),r(x,{message:o(n).errors.bpjs_employee_percentage,class:"mt-2 text-sm text-red-600"},null,8,["message"])])])):m("",!0),t("div",null,[r(k,{for:"benefits",value:"Benefits",class:"block text-sm font-medium text-gray-700"}),C(t("textarea",{id:"benefits","onUpdate:modelValue":e[21]||(e[21]=s=>o(n).benefits=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[F,o(n).benefits]]),r(x,{message:o(n).errors.benefits,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),t("div",xt,[r(be,{on:o(n).recentlySuccessful,class:"me-3 text-green-600"},{default:g(()=>e[53]||(e[53]=[f(" Tersimpan. ")])),_:1},8,["on"]),r(me,{class:de([{"opacity-25":o(n).processing},"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"]),disabled:o(n).processing},{default:g(()=>[f(d(Z.value),1)]),_:1},8,["class","disabled"])])],32)])):m("",!0)])])]),_:1}))}};export{Pt as default};

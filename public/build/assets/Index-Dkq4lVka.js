import{d as w,C as U,c as A,o as d,w as m,a as e,b as n,e as u,g as i,F as M,h as N,f as T,t as g,q as E,u as l,p as V,y as B,W as j}from"./app-m84OSvgc.js";import{A as F}from"./AppLayout-CJs2uF_B.js";import{_ as H}from"./CustomModal-CxFjZzbF.js";import{_ as f}from"./PrimaryButton-DhrHOJac.js";import{_ as I}from"./SecondaryButton-h8yd_Teo.js";import{_ as c}from"./InputLabel-Dwn-i_zk.js";import{_ as k}from"./TextInput-DlWuAldP.js";import{_ as x}from"./InputError-cFHoeU2b.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"p-4"},P={class:"container mx-auto p-2"},q={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white p-4 rounded-lg shadow-md mb-2"},O={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},L={class:"text-lg font-semibold"},W={class:"text-sm text-gray-500"},J={class:"text-xl font-bold text-purple-600"},z={class:"text-sm text-gray-500"},G={key:0,class:"text-sm text-green-500"},Q={key:1,class:"text-sm text-blue-500"},R={class:"mt-4 flex space-x-2"},X={key:1,class:"text-center bg-white p-2 rounded-lg shadow-md"},Y={class:"mb-4"},Z={class:"mb-4"},aa={class:"mb-4"},ea={class:"mb-4"},ta={class:"mb-4"},sa={class:"flex items-center"},na={class:"mb-4"},la={class:"flex items-center"},oa={class:"flex justify-end mt-4"},ka={__name:"Index",props:{bills:Array},setup(h){const b=w(!1),r=w(!1),t=U({id:null,name:"",note:"",amount:0,date:"",reminder:!1,auto:!1}),_=(o,a=null)=>{var s;r.value=o==="edit",r.value&&a?(t.id=a.id,t.name=((s=a.sub_category)==null?void 0:s.name)||"",t.note=a.note,t.amount=a.amount,t.date=a.date,t.reminder=!!a.reminder,t.auto=!!a.auto):t.reset(),b.value=!0},p=()=>{t.reset(),b.value=!1},C=()=>{r.value?t.put(route("bills.update",t.id),{onSuccess:()=>p()}):t.post(route("bills.store"),{onSuccess:()=>p()})},D=o=>{confirm("Apakah Anda yakin ingin menghapus bill ini?")&&j.delete(route("bills.destroy",o))},y=o=>o?new Intl.NumberFormat("id-ID").format(o.replace(/\D/g,"")):"";watch(()=>{t&&(t.amount=y(String(t.amount)),t.balance=y(String(t.balance)))});const S=o=>o?new Date(o).getDate():"";return(o,a)=>(d(),A(F,{title:"Kelola Bill"},{default:m(()=>[e("div",K,[e("div",P,[e("div",q,[a[8]||(a[8]=e("div",null,[e("h1",{class:"text-xl font-semibold text-gray-800"},"Kelola Tagihan Bulanan"),e("p",{class:"text-sm text-gray-600 mt-1"}," Halaman ini digunakan untuk mengelola dan menambahkan data tagihan bulanan seperti listrik, internet, dan tagihan rutin lainnya. ")],-1)),n(f,{onClick:a[0]||(a[0]=s=>_("create")),class:"mt-4 sm:mt-0"},{default:m(()=>a[7]||(a[7]=[i("Tambah Bill (Tagihan)")])),_:1})]),h.bills.length>0?(d(),u("div",O,[(d(!0),u(M,null,N(h.bills,s=>{var v;return d(),u("div",{key:s.id,class:"bg-white p-6 rounded-lg shadow-md"},[e("h2",L,g(((v=s.sub_category)==null?void 0:v.name)||"Tanpa Kategori"),1),e("p",W,g(s.note),1),e("p",J,g(y(s.amount)),1),e("p",z,"Tanggal Batas Akhir : "+g(S(s.date)),1),s.reminder?(d(),u("p",G," Tagihan ini di set Pengingat dan akan diingatkan selalu. ")):T("",!0),s.auto?(d(),u("p",Q," Setiap tanggal jatuh tempo, tagihan akan otomatis tersimpan ke data. ")):T("",!0),e("div",R,[n(f,{onClick:$=>_("edit",s)},{default:m(()=>a[9]||(a[9]=[i("Edit")])),_:2},1032,["onClick"]),n(f,{class:"bg-red-600 hover:bg-red-700",onClick:$=>D(s.id)},{default:m(()=>a[10]||(a[10]=[i("Hapus")])),_:2},1032,["onClick"])])])}),128))])):(d(),u("div",X,a[11]||(a[11]=[e("p",{class:"text-gray-500 text-sm"},"Belum ada tagihan yang tercatat. Silakan tambahkan tagihan baru.",-1)]))),a[12]||(a[12]=e("div",{class:"mt-4 bg-gray-100 p-2 rounded-lg shadow-md"},[e("h2",{class:"text-lg font-semibold text-gray-800"},"Informasi Mengenai Tagihan"),e("p",{class:"text-sm text-gray-600 mt-2"}," Halaman ini hanya digunakan untuk mencatat kategori tagihan yang harus dibayar setiap bulan, seperti listrik, internet, atau tagihan lainnya. "),e("p",{class:"text-sm text-gray-600 mt-2"},[i(" Untuk pembayaran atau transaksi, silakan lakukan melalui halaman "),e("strong",null,"Transaksi Pengeluaran (Expenses)"),i(". Pilih kategori "),e("strong",null,"Bill (Tagihan)"),i(" dan tambahkan keterangan sesuai jenis tagihan yang dibayarkan. ")])],-1))]),n(H,{show:b.value,title:r.value?"Edit Bill (Tagihan)":"Tambah Bill (Tagihan)",onClose:p},{content:m(()=>[e("form",{onSubmit:E(C,["prevent"])},[e("div",Y,[n(c,{for:"name",value:"Nama Bill (Tagihan)"}),n(k,{id:"name",modelValue:l(t).name,"onUpdate:modelValue":a[1]||(a[1]=s=>l(t).name=s),class:"block w-full",disabled:r.value,readonly:r.value},null,8,["modelValue","disabled","readonly"]),n(x,{message:l(t).errors.name},null,8,["message"])]),e("div",Z,[n(c,{for:"note",value:"Keterangan"}),n(k,{id:"note",modelValue:l(t).note,"onUpdate:modelValue":a[2]||(a[2]=s=>l(t).note=s),class:"block w-full"},null,8,["modelValue"]),n(x,{message:l(t).errors.note},null,8,["message"])]),e("div",aa,[n(c,{for:"amount",value:"Jumlah Tagihan"}),n(k,{id:"amount",type:"number",modelValue:l(t).amount,"onUpdate:modelValue":a[3]||(a[3]=s=>l(t).amount=s),class:"block w-full",required:""},null,8,["modelValue"]),n(x,{message:l(t).errors.amount},null,8,["message"])]),e("div",ea,[n(c,{for:"date",value:"Tanggal Tagihan"}),n(k,{id:"date",type:"date",modelValue:l(t).date,"onUpdate:modelValue":a[4]||(a[4]=s=>l(t).date=s),class:"block w-full",required:""},null,8,["modelValue"]),n(x,{message:l(t).errors.date},null,8,["message"])]),e("div",ta,[e("label",sa,[V(e("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=s=>l(t).reminder=s),class:"mr-2"},null,512),[[B,l(t).reminder]]),a[13]||(a[13]=e("span",null,"Pengingat",-1))]),a[14]||(a[14]=e("p",{class:"text-sm text-gray-500"},"Akan diingatkan H-1 dari Tanggal",-1))]),e("div",na,[e("label",la,[V(e("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=s=>l(t).auto=s),class:"mr-2"},null,512),[[B,l(t).auto]]),a[15]||(a[15]=e("span",null,"Otomatis",-1))]),a[16]||(a[16]=e("p",{class:"text-sm text-gray-500"},"Secara Otomatis Masuk data sesuai tanggal",-1))]),e("div",oa,[n(I,{type:"button",onClick:p},{default:m(()=>a[17]||(a[17]=[i("Batal")])),_:1}),n(f,{class:"ml-3",type:"submit"},{default:m(()=>[i(g(r.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])])]),_:1}))}};export{ka as default};

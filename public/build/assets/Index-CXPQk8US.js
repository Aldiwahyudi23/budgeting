import{d as A,C as N,k as E,l as j,c as F,o as m,w as r,a,b as n,e as u,g as i,F as H,h as P,f as D,t as g,n as K,q as O,u as o,p as h,y as w,W as L}from"./app-BfKwtCTL.js";import{A as W}from"./AppLayout-DYgGF9Ha.js";import{_ as q}from"./CustomModal-UbcvsL-s.js";import{_ as c}from"./PrimaryButton-DMlVQEDX.js";import{_ as z}from"./SecondaryButton-D2CyLsTH.js";import{_ as x}from"./InputLabel-eknfm-FF.js";import{_ as k}from"./TextInput-D0KFhQtJ.js";import{_ as b}from"./InputError-89Sy7rr5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"p-4"},R={class:"container mx-auto p-2"},G={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white p-4 rounded-lg shadow-md mb-2"},Q={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},X={class:"flex items-center justify-between"},Y={class:"text-lg font-semibold"},Z={class:"text-sm text-gray-500"},tt={class:"text-xl font-bold text-purple-600"},at={class:"text-sm text-gray-500"},et={key:0,class:"text-sm text-green-500"},st={key:1,class:"text-sm text-blue-500"},nt={class:"mt-4 flex space-x-2"},lt={key:1,class:"text-center bg-white p-2 rounded-lg shadow-md"},ot={class:"mb-4"},it={class:"mb-4"},rt={class:"mb-4"},dt={class:"mb-4"},mt={class:"mb-4"},ut={class:"flex items-center"},gt={class:"mb-4"},pt={class:"flex items-center"},ft={class:"mb-4"},ct={class:"flex items-center"},xt={class:"flex justify-end mt-4"},Bt={__name:"Index",props:{bills:Array},setup(T){const y=A(!1),d=A(!1),e=N({id:null,name:"",note:"",amount:"",balance:"",date:"",reminder:!1,auto:!1,is_active:!1}),v=l=>l?new Intl.NumberFormat("id-ID").format(l):"",S=l=>l?l.replace(/\./g,""):"",_=E({get:()=>v(e.amount),set:l=>{e.amount=S(l)}});j(()=>{_.value=v(e.amount)});const V=(l,t=null)=>{var s,p;d.value=l==="edit",d.value&&t?(e.id=t.id,e.name=((s=t.sub_category)==null?void 0:s.name)||"",e.note=t.note,e.amount=t.amount,e.balance=t.balance,e.date=t.date,e.reminder=!!t.reminder,e.auto=!!t.auto,e.is_active=!!((p=t.sub_category)!=null&&p.is_active)):e.reset(),y.value=!0},f=()=>{e.reset(),y.value=!1},U=()=>{e.amount=e.amount.replace(/\D/g,""),e.balance=e.balance.replace(/\D/g,""),d.value?e.put(route("bills.update",e.id),{onSuccess:()=>f()}):e.post(route("bills.store"),{onSuccess:()=>f()})},$=l=>{confirm("Apakah Anda yakin ingin menghapus bill ini?")&&L.delete(route("bills.destroy",l))},I=l=>l?new Date(l).getDate():"";return(l,t)=>(m(),F(W,{title:"Kelola Bill"},{default:r(()=>[a("div",J,[a("div",R,[a("div",G,[t[9]||(t[9]=a("div",null,[a("h1",{class:"text-xl font-semibold text-gray-800"},"Kelola Tagihan Bulanan"),a("p",{class:"text-sm text-gray-600 mt-1"}," Halaman ini digunakan untuk mengelola dan menambahkan data tagihan bulanan seperti listrik, internet, dan tagihan rutin lainnya. ")],-1)),n(c,{onClick:t[0]||(t[0]=s=>V("create")),class:"mt-4 sm:mt-0"},{default:r(()=>t[8]||(t[8]=[i("Tambah Bill (Tagihan)")])),_:1})]),T.bills.length>0?(m(),u("div",Q,[(m(!0),u(H,null,P(T.bills,s=>{var p,B,C;return m(),u("div",{key:s.id,class:"bg-white p-6 rounded-lg shadow-md"},[a("div",X,[a("h2",Y,g(((p=s.sub_category)==null?void 0:p.name)||"Tanpa Kategori"),1),a("span",{class:K(["px-2 py-1 text-xs font-semibold rounded-lg",(B=s.sub_category)!=null&&B.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"])},g((C=s.sub_category)!=null&&C.is_active?"Aktif":"Tidak Aktif"),3)]),a("p",Z,g(s.note),1),a("p",tt,"Rp "+g(v(s.amount)),1),a("p",at,"Tanggal Batas Akhir : "+g(I(s.date)),1),s.reminder?(m(),u("p",et," Tagihan ini di set Pengingat dan akan diingatkan selalu. ")):D("",!0),s.auto?(m(),u("p",st," Setiap tanggal jatuh tempo, tagihan akan otomatis tersimpan ke data. ")):D("",!0),a("div",nt,[n(c,{onClick:M=>V("edit",s)},{default:r(()=>t[10]||(t[10]=[i("Edit")])),_:2},1032,["onClick"]),n(c,{class:"bg-red-600 hover:bg-red-700",onClick:M=>$(s.id)},{default:r(()=>t[11]||(t[11]=[i("Hapus")])),_:2},1032,["onClick"])])])}),128))])):(m(),u("div",lt,t[12]||(t[12]=[a("p",{class:"text-gray-500 text-sm"},"Belum ada tagihan yang tercatat. Silakan tambahkan tagihan baru.",-1)]))),t[13]||(t[13]=a("div",{class:"mt-4 bg-gray-100 p-2 rounded-lg shadow-md"},[a("h2",{class:"text-lg font-semibold text-gray-800"},"Informasi Mengenai Tagihan"),a("p",{class:"text-sm text-gray-600 mt-2"}," Halaman ini hanya digunakan untuk mencatat kategori tagihan yang harus dibayar setiap bulan, seperti listrik, internet, atau tagihan lainnya. "),a("p",{class:"text-sm text-gray-600 mt-2"},[i(" Untuk pembayaran atau transaksi, silakan lakukan melalui halaman "),a("strong",null,"Transaksi Pengeluaran (Expenses)"),i(". Pilih kategori "),a("strong",null,"Bill (Tagihan)"),i(" dan tambahkan keterangan sesuai jenis tagihan yang dibayarkan. ")])],-1))]),n(q,{show:y.value,title:d.value?"Edit Bill (Tagihan)":"Tambah Bill (Tagihan)",onClose:f},{content:r(()=>[a("form",{onSubmit:O(U,["prevent"])},[a("div",ot,[n(x,{for:"name"},{default:r(()=>t[14]||(t[14]=[i(" Nama Bill (Tagihan) "),a("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),n(k,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":t[1]||(t[1]=s=>o(e).name=s),class:"block w-full",disabled:d.value,readonly:d.value},null,8,["modelValue","disabled","readonly"]),n(b,{message:o(e).errors.name},null,8,["message"])]),a("div",it,[n(x,{for:"note"},{default:r(()=>t[15]||(t[15]=[i(" Catatan ")])),_:1}),n(k,{id:"note",modelValue:o(e).note,"onUpdate:modelValue":t[2]||(t[2]=s=>o(e).note=s),class:"block w-full"},null,8,["modelValue"]),n(b,{message:o(e).errors.note},null,8,["message"])]),a("div",rt,[n(x,{for:"amount"},{default:r(()=>t[16]||(t[16]=[i(" Nominal Tagihan "),a("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),n(k,{id:"amount",type:"text",modelValue:_.value,"onUpdate:modelValue":t[3]||(t[3]=s=>_.value=s),onInput:l.handleAmountInput,class:"block w-full"},null,8,["modelValue","onInput"]),n(b,{message:o(e).errors.amount},null,8,["message"])]),a("div",dt,[n(x,{for:"date"},{default:r(()=>t[17]||(t[17]=[i(" Tanggal Tagihan "),a("span",{class:"text-red-500 text-sm"},"*",-1)])),_:1}),n(k,{id:"date",type:"date",modelValue:o(e).date,"onUpdate:modelValue":t[4]||(t[4]=s=>o(e).date=s),class:"block w-full"},null,8,["modelValue"]),n(b,{message:o(e).errors.date},null,8,["message"])]),a("div",mt,[a("label",ut,[h(a("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>o(e).is_active=s),class:"mr-2"},null,512),[[w,o(e).is_active]]),t[18]||(t[18]=a("span",null,"Status",-1))]),t[19]||(t[19]=a("p",{class:"text-sm text-gray-500"},"Jika Aktif akan bisa Transaksi",-1))]),a("div",gt,[a("label",pt,[h(a("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>o(e).reminder=s),class:"mr-2"},null,512),[[w,o(e).reminder]]),t[20]||(t[20]=a("span",null,"Pengingat",-1))]),t[21]||(t[21]=a("p",{class:"text-sm text-gray-500"},"Akan diingatkan H-1 dari Tanggal",-1))]),a("div",ft,[a("label",ct,[h(a("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>o(e).auto=s),class:"mr-2"},null,512),[[w,o(e).auto]]),t[22]||(t[22]=a("span",null,"Otomatis",-1))]),t[23]||(t[23]=a("p",{class:"text-sm text-gray-500"},"Secara Otomatis Masuk data sesuai tanggal",-1))]),a("div",xt,[n(z,{type:"button",onClick:f},{default:r(()=>t[24]||(t[24]=[i("Batal")])),_:1}),n(c,{class:"ml-3",type:"submit"},{default:r(()=>[i(g(d.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])])]),_:1}))}};export{Bt as default};

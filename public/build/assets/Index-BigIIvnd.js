import{d as x,k as C,c as B,o as n,w as D,a as e,e as d,f as g,t as l,g as u,p as y,F as h,h as f,v as j,x as T,n as I,W as b}from"./app-BxfbunnZ.js";import{A as P}from"./AppLayout-DpRDBFlr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"p-4 space-y-4"},A={class:"bg-white rounded-xl shadow-md overflow-hidden"},J={class:"p-4 md:p-8"},F={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},L={key:0,class:"bg-gradient-to-r from-blue-50 to-blue-100 p-5 rounded-xl border border-blue-200 shadow-inner w-full md:w-auto"},V={class:"text-2xl md:text-3xl font-bold text-blue-700"},Y={class:"text-xs text-gray-500 mt-2"},z={class:"bg-white rounded-xl shadow-md p-5"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N=["value"],R={class:"relative"},E={class:"bg-white rounded-xl shadow-md overflow-hidden"},H={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},K={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-green-600"},q={class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={key:0},$={colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"},se={__name:"Index",props:{latestBalance:Object,bpjsJhtRecords:Array,availableYears:Array,filters:Object},setup(p){const o=p,r=x(o.filters.year||new Date().getFullYear()),i=x(o.filters.search||""),m=C(()=>{let s=o.bpjsJhtRecords;if(r.value&&(s=s.filter(t=>new Date(t.transaction_date).getFullYear()===parseInt(r.value))),i.value){const t=i.value.toLowerCase();s=s.filter(a=>a.company_name.toLowerCase().includes(t)||a.description&&a.description.toLowerCase().includes(t))}return s}),c=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s||0),v=s=>{if(!s)return"-";try{return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch(t){return console.error("Error formatting date:",t),s}},w=()=>{b.get(route("bpjs.index"),{year:r.value,search:i.value},{preserveState:!0})},_=()=>{b.get(route("bpjs.index"),{year:r.value,search:i.value},{preserveState:!0,replace:!0})};return(s,t)=>(n(),B(P,{title:"Data BPJS JHT"},{default:D(()=>[e("div",S,[e("div",A,[e("div",J,[e("div",F,[t[3]||(t[3]=e("div",{class:"space-y-2"},[e("h3",{class:"text-xl font-bold text-gray-800"},"Ringkasan BPJS JHT"),e("p",{class:"text-sm text-gray-500"},"Perhitungan berdasarkan pengaturan pekerjaan Anda")],-1)),o.latestBalance?(n(),d("div",L,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-600"},"Saldo Terkini",-1)),e("p",V,l(c(o.latestBalance.final_balance)),1),e("p",Y,"Perusahaan: "+l(o.latestBalance.company_name),1)])):g("",!0)])])]),t[8]||(t[8]=e("div",{class:"bg-blue-50/50 border-l-4 border-blue-400 rounded-xl p-5 shadow-sm"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 pt-0.5"},[e("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-semibold text-blue-800"},"Catatan Penting"),e("div",{class:"mt-2 text-sm text-blue-700 space-y-2"},[e("p",{class:"flex items-start"},[e("span",{class:"inline-block mr-2"},"•"),u(" Data dihitung otomatis berdasarkan nominal Company Contribution (CC) dan Employee Contribution (EC) yang telah di atur di setting Pekerjaan ")]),e("p",{class:"flex items-start"},[e("span",{class:"inline-block mr-2"},"•"),u(" Jumlah tidak akan sama persis dengan saldo aktual JHT Anda ")]),e("p",{class:"flex items-start"},[e("span",{class:"inline-block mr-2"},"•"),u(" Perhitungan otomatis dilakukan setiap tanggal 13 ")])])])])],-1)),e("div",z,[e("div",M,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tahun",-1)),y(e("select",{id:"year","onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),onChange:w,class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 shadow-sm"},[(n(!0),d(h,null,f(p.availableYears,a=>(n(),d("option",{value:a},l(a),9,N))),256))],544),[[j,r.value]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cari",-1)),e("div",R,[y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.value=a),onInput:_,type:"text",class:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 shadow-sm pl-10",placeholder:"Cari perusahaan..."},null,544),[[T,i.value]]),t[5]||(t[5]=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])])])]),e("div",E,[e("div",H,[e("table",O,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Perusahaan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Iuran Perusahaan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Iuran Karyawan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Saldo Awal"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Saldo Akhir"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal")])],-1)),e("tbody",U,[(n(!0),d(h,null,f(m.value,(a,k)=>(n(),d("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",W,l(k+1),1),e("td",K,l(a.company_name),1),e("td",Q,l(c(a.company_contribution)),1),e("td",q,l(c(a.employee_contribution)),1),e("td",G,l(c(a.initial_balance)),1),e("td",{class:I(["px-6 py-4 whitespace-nowrap text-sm font-semibold",a.final_balance>=a.initial_balance?"text-green-600":"text-red-600"])},l(c(a.final_balance)),3),e("td",X,l(v(a.transaction_date)),1)]))),128)),m.value.length===0?(n(),d("tr",Z,[e("td",$," Tidak ada data ditemukan untuk tahun "+l(r.value),1)])):g("",!0)])])])])])]),_:1}))}};export{se as default};
